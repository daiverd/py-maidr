import matplotlib.pyplot as plt
import pandas as pd

data = [
    {
        "Maidr": "With",
        "Plot Type": "Bar",
        "Library": "Matplotlib",
        "Mean": 41.5,
        "Std": 8.3,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Bar",
        "Library": "Matplotlib",
        "Mean": 41.7,
        "Std": 9.2,
    },
    {
        "Maidr": "With",
        "Plot Type": "Bar",
        "Library": "Seaborn",
        "Mean": 49.9,
        "Std": 9.6,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Bar",
        "Library": "Seaborn",
        "Mean": 47.5,
        "Std": 12.2,
    },
    {
        "Maidr": "With",
        "Plot Type": "Horizontal Box",
        "Library": "Matplotlib",
        "Mean": 38.9,
        "Std": 11.9,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Horizontal Box",
        "Library": "Matplotlib",
        "Mean": 38.3,
        "Std": 10.7,
    },
    {
        "Maidr": "With",
        "Plot Type": "Horizontal Box",
        "Library": "Seaborn",
        "Mean": 657.0,
        "Std": 20.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Horizontal Box",
        "Library": "Seaborn",
        "Mean": 654.0,
        "Std": 19.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Vertical Box",
        "Library": "Matplotlib",
        "Mean": 40.6,
        "Std": 12.1,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Vertical Box",
        "Library": "Matplotlib",
        "Mean": 39.8,
        "Std": 11.2,
    },
    {
        "Maidr": "With",
        "Plot Type": "Vertical Box",
        "Library": "Seaborn",
        "Mean": 658.0,
        "Std": 20.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Vertical Box",
        "Library": "Seaborn",
        "Mean": 653.0,
        "Std": 22.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Line",
        "Library": "Matplotlib",
        "Mean": 32.9,
        "Std": 4.7,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Line",
        "Library": "Matplotlib",
        "Mean": 33.2,
        "Std": 4.7,
    },
    {
        "Maidr": "With",
        "Plot Type": "Line",
        "Library": "Seaborn",
        "Mean": 135.0,
        "Std": 13.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Line",
        "Library": "Seaborn",
        "Mean": 135.0,
        "Std": 15.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Dodged",
        "Library": "Matplotlib",
        "Mean": 15.5,
        "Std": 6.9,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Dodged",
        "Library": "Matplotlib",
        "Mean": 14.9,
        "Std": 4.9,
    },
    {
        "Maidr": "With",
        "Plot Type": "Dodged",
        "Library": "Seaborn",
        "Mean": 276.0,
        "Std": 15.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Dodged",
        "Library": "Seaborn",
        "Mean": 272.0,
        "Std": 19.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multilayered",
        "Library": "Matplotlib",
        "Mean": 42.4,
        "Std": 14.4,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multilayered",
        "Library": "Matplotlib",
        "Mean": 41.4,
        "Std": 19.9,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multilayered",
        "Library": "Seaborn",
        "Mean": 245.0,
        "Std": 16.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multilayered",
        "Library": "Seaborn",
        "Mean": 238.0,
        "Std": 27.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multipanel",
        "Library": "Matplotlib",
        "Mean": 85.1,
        "Std": 20.7,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multipanel",
        "Library": "Matplotlib",
        "Mean": 84.4,
        "Std": 34.8,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multipanel",
        "Library": "Seaborn",
        "Mean": 178.0,
        "Std": 21.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multipanel",
        "Library": "Seaborn",
        "Mean": 171.0,
        "Std": 40.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Scatter",
        "Library": "Matplotlib",
        "Mean": 19.2,
        "Std": 4.7,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Scatter",
        "Library": "Matplotlib",
        "Mean": 18.9,
        "Std": 4.6,
    },
    {
        "Maidr": "With",
        "Plot Type": "Scatter",
        "Library": "Seaborn",
        "Mean": 41.6,
        "Std": 2.4,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Scatter",
        "Library": "Seaborn",
        "Mean": 39.3,
        "Std": 2.8,
    },
    {
        "Maidr": "With",
        "Plot Type": "Histogram",
        "Library": "Matplotlib",
        "Mean": 109.0,
        "Std": 36.2,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Histogram",
        "Library": "Matplotlib",
        "Mean": 92.4,
        "Std": 45.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Histogram",
        "Library": "Seaborn",
        "Mean": 254.0,
        "Std": 83.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Histogram",
        "Library": "Seaborn",
        "Mean": 253.0,
        "Std": 10.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Stacked",
        "Library": "Matplotlib",
        "Mean": 24.1,
        "Std": 6.4,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Stacked",
        "Library": "Matplotlib",
        "Mean": 23.4,
        "Std": 5.6,
    },
    {
        "Maidr": "With",
        "Plot Type": "Stacked",
        "Library": "Seaborn",
        "Mean": 73.0,
        "Std": 8.8,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Stacked",
        "Library": "Seaborn",
        "Mean": 71.6,
        "Std": 5.4,
    },
    {
        "Maidr": "With",
        "Plot Type": "Heatmap",
        "Library": "Matplotlib",
        "Mean": 41.6,
        "Std": 1.7,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Heatmap",
        "Library": "Matplotlib",
        "Mean": 40.4,
        "Std": 3.4,
    },
    {
        "Maidr": "With",
        "Plot Type": "Heatmap",
        "Library": "Seaborn",
        "Mean": 171.0,
        "Std": 13.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Heatmap",
        "Library": "Seaborn",
        "Mean": 167.0,
        "Std": 17.0,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multiline",
        "Library": "Matplotlib",
        "Mean": 21.5,
        "Std": 1.5,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multiline",
        "Library": "Matplotlib",
        "Mean": 21.3,
        "Std": 6.4,
    },
    {
        "Maidr": "With",
        "Plot Type": "Multiline",
        "Library": "Seaborn",
        "Mean": 431.0,
        "Std": 21.0,
    },
    {
        "Maidr": "Without",
        "Plot Type": "Multiline",
        "Library": "Seaborn",
        "Mean": 429.0,
        "Std": 23.0,
    },
]

df = pd.DataFrame(data)

for lib in df["Library"].unique():
    subset = df[df["Library"] == lib]
    pivot_mean = subset.pivot(index="Plot Type", columns="Maidr", values="Mean")
    pivot_std = subset.pivot(index="Plot Type", columns="Maidr", values="Std")

    plt.figure()
    pivot_mean.plot(kind="bar", yerr=pivot_std)
    plt.title(f"{lib} Performance Comparison")
    plt.ylabel("Mean")
    plt.xlabel("Plot Type")
    plt.xticks(rotation=45, ha="right")
    plt.tight_layout()
    plt.show()
